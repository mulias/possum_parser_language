crate = "[" > char < "]"
no_crate = "   " $ null
cargo = crate | no_crate

move =
  lebel("count", scan(int)) +
  label("from", scan(numerals)) +
  label("to", scan(numerals))

CrateStacks(Labels, CargoRows) =
  CargoCols <- RotateTableClockwise(CargoRows) &
  CrateCols <- Map(Reject(IsNull, _), CargoCols) &
  ZipIntoObject(Labels, CargoCols)

CargoRows <- table_sep(cargo, " ", nl) &
Labels <- ws > array_sep(numerals, ws) < ws &
Steps <- array_sep(move, nl) $
{"stacks": CrateStacks(Labels, CargoRows), "steps": Steps}
